2022-06-07 14:56:44,455 ERROR: Exception on /search [GET] [in c:\repos\project1\project1\venv\lib\site-packages\flask\app.py:1455]
Traceback (most recent call last):
  File "c:\repos\project1\project1\venv\lib\site-packages\flask\app.py", line 2077, in wsgi_app
    response = self.full_dispatch_request()
  File "c:\repos\project1\project1\venv\lib\site-packages\flask\app.py", line 1525, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "c:\repos\project1\project1\venv\lib\site-packages\flask\app.py", line 1523, in full_dispatch_request
    rv = self.dispatch_request()
  File "c:\repos\project1\project1\venv\lib\site-packages\flask\app.py", line 1509, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "c:\repos\project1\project1\venv\lib\site-packages\flask_login\utils.py", line 303, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
  File "C:\repos\project1\project1\app\main\routes.py", line 152, in search
    posts, total = Post.search(g.search_form.q.data, page, current_app.config['POSTS_PER_PAGE'])
  File "C:\repos\project1\project1\app\models.py", line 14, in search
    ids, total = query_index(cls.__tablename__, expression, page, per_page)
  File "C:\repos\project1\project1\app\search.py", line 19, in query_index
    search = current_app.elasticsearch.search(
  File "c:\repos\project1\project1\venv\lib\site-packages\elasticsearch\_sync\client\utils.py", line 414, in wrapped
    return api(*args, **kwargs)
  File "c:\repos\project1\project1\venv\lib\site-packages\elasticsearch\_sync\client\__init__.py", line 3747, in search
    return self.perform_request(  # type: ignore[return-value]
  File "c:\repos\project1\project1\venv\lib\site-packages\elasticsearch\_sync\client\_base.py", line 321, in perform_request
    raise HTTP_EXCEPTIONS.get(meta.status, ApiError)(
elasticsearch.NotFoundError: NotFoundError(404, '<!DOCTYPE html>\n<html>\n  <head>\n    <title>\n    Welcome to Microblog\n</title>\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <!-- Bootstrap -->\n    <link href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">\n  </head>\n  <body>\n    \n    <nav class="navbar navbar-default">\n        <div class="container">\n            <div class="navbar-header">\n                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">\n                    <span class="sr-only">Toggle navigation</span>\n                    <span class="icon-bar"></span>\n                    <span class="icon-bar"></span>\n                    <span class="icon-bar"></span>\n                </button>\n                <a class="navbar-brand" href="/index">Microblog</a>\n            </div>\n            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">\n                <ul class="nav navbar-nav">\n                    <li><a href="/index">Home</a></li>\n                    <li><a href="/explore">Explore</a></li>\n                </ul>\n                \n                <ul class="nav navbar-nav navbar-right">\n                    \n                    <li><a href="/auth/login">Login</a></li>\n                    \n                </ul>\n            </div>\n        </div>\n    </nav>\n\n    \n    <div class="container">\n        \n        \n        \n\n        \n        \n    <h1>Not Found</h1>\n    <p><a href="/index">Back</a></p>\n\n    </div>\n\n\n    \n    \n    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>\n    <script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>\n    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment-with-locales.min.js" integrity="sha512-LGXaggshOkD/at6PFNcp2V2unf9LzFq6LE+sChH7ceMTDP0g2kn6Vxwgg7wkPP7AAtX+lmPqPdxB47A0Nz0cMQ==" crossorigin="anonymous"></script>\n<script>\nmoment.locale("en");\nfunction flask_moment_render(elem) {\n    const timestamp = moment(elem.dataset.timestamp);\n    const func = elem.dataset.function;\n    const format = elem.dataset.format;\n    const timestamp2 = elem.dataset.timestamp2;\n    const no_suffix = elem.dataset.nosuffix;\n    const units = elem.dataset.units;\n    let args = [];\n    if (format)\n        args.push(format);\n    if (timestamp2)\n        args.push(moment(timestamp2));\n    if (no_suffix)\n        args.push(no_suffix);\n    if (units)\n        args.push(units);\n    elem.textContent = timestamp[func].apply(timestamp, args);\n    elem.classList.remove(\'flask-moment\');\n    elem.style.display = "";\n}\nfunction flask_moment_render_all() {\n    const moments = document.querySelectorAll(\'.flask-moment\');\n    moments.forEach(function(moment) {\n        flask_moment_render(moment);\n        const refresh = moment.dataset.refresh;\n        if (refresh && refresh > 0) {\n            (function(elem, interval) {\n                setInterval(function() {\n                    flask_moment_render(elem);\n                }, interval);\n            })(moment, refresh);\n        }\n    })\n}\ndocument.addEventListener("DOMContentLoaded", flask_moment_render_all);\n</script>\n    <script>\nmoment.locale("en");\n</script>\n    <script>\n        function translate(sourceElem, destElem, sourceLang, destLang) {\n            $(destElem).html(\'<img src="/static/loading.gif">\');\n            $.post(\'/translate\', {\n                text: $(sourceElem).text(),\n                source_language: sourceLang,\n                dest_language: destLang\n            }).done(function(response) {\n                $(destElem).text(response[\'text\'])\n            }).fail(function() {\n                $(destElem).text("Error: Could not contact server.");\n            });\n        }\n    </script>\n\n  </body>\n</html>\n')
2022-06-07 15:00:28,643 INFO: Microblog startup [in C:\repos\project1\project1\app\__init__.py:77]
2022-06-07 15:04:26,671 INFO: Microblog startup [in C:\repos\project1\project1\app\__init__.py:77]
2022-06-07 16:32:13,728 INFO: Microblog startup [in C:\repos\project1\project1\app\__init__.py:77]
2022-06-07 16:54:20,737 INFO: Microblog startup [in C:\repos\project1\project1\app\__init__.py:77]
2022-06-09 21:18:14,817 INFO: Microblog startup [in C:\repos\project1\project1\app\__init__.py:77]
